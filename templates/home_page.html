{% extends "base.html" %}

{% block header %}
<h1> Virtual Photography Marketplace</h1>
{% endblock %}

{% block main_content %}
<h2>Search through our photography</h2>
<div class="search-container">
    <form action="" method="POST" novalidate>
        {{ form.hidden_tag() }}
        {{ form.theme() }}
        {% for error in form.theme.errors %}
            {{ error }}
        {% endfor %}
        {{ form.price_min.label }}
        {{ form.price_min() }}
        {% for error in form.price_min.errors %}
            {{ error }}
        {% endfor %}
        {{ form.price_max.label }}
        {{ form.price_max() }}
        {% for error in form.price_max.errors %}
            {{ error }}
        {% endfor %}
        {{ form.filter_type.label }}
        {{ form.filter_type() }}
        {% for error in form.filter_type.errors %}
            {{ error }}
        {% endfor %}
        <br />
        {{ form.submit() }}
    </form>
</div>
    

<div class="photo-container">
    {% if random_photo %}
        <h3>A glimpse of our photography selection</h3>
        <a href="{{ url_for('photo_detail', photo_id=random_photo.id) }}">
            <img src="{{ url_for('static', filename=random_photo.file_path.replace('static/', '')) }}" alt="{{ random_photo.title }}">    
        </a>
        <p>{{ random_photo.title }}</p>
        <p>{{ random_photo.description }}</p>
    {% else %}
        <p>No photo available!</p>
    {% endif %}
</div>

{% if featured_photo %}
<div class="photo-container">
    <h2>Our Limited Edition Selection</h2>
    <h3>Place a bid now!</h3>
    <a href="{{ url_for('limited_edition') }}">
        <img src="{{ featured_photo.file_path }}" alt="{{ featured_photo.title }}">
    </a>
    <p>{{ featured_photo.title }}</p>
    <p>Starting Bid: â‚¬{{ featured_photo.base_price }}</p>
</div>
{% endif %}

{% endblock %}